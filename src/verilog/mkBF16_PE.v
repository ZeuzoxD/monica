//
// Generated by Bluespec Compiler, version 2025.07 (build 282e82e9)
//
// On Fri Nov 14 08:21:43 IST 2025
//
//
// Ports:
// Name                         I/O  size props
// RDY_load_weight                O     1 const
// RDY_compute                    O     1 const
// get_activation_out             O    16 reg
// RDY_get_activation_out         O     1 const
// get_psum_out                   O    16 reg
// RDY_get_psum_out               O     1 const
// CLK                            I     1 clock
// RST_N                          I     1 reset
// load_weight_w                  I    16 reg
// compute_act_in                 I    16
// compute_psum_in                I    16
// EN_load_weight                 I     1
// EN_compute                     I     1
//
// No combinational paths from inputs to outputs
//
//

`ifdef BSV_ASSIGNMENT_DELAY
`else
  `define BSV_ASSIGNMENT_DELAY
`endif

`ifdef BSV_POSITIVE_RESET
  `define BSV_RESET_VALUE 1'b1
  `define BSV_RESET_EDGE posedge
`else
  `define BSV_RESET_VALUE 1'b0
  `define BSV_RESET_EDGE negedge
`endif

module mkBF16_PE(CLK,
		 RST_N,

		 load_weight_w,
		 EN_load_weight,
		 RDY_load_weight,

		 compute_act_in,
		 compute_psum_in,
		 EN_compute,
		 RDY_compute,

		 get_activation_out,
		 RDY_get_activation_out,

		 get_psum_out,
		 RDY_get_psum_out);
  input  CLK;
  input  RST_N;

  // action method load_weight
  input  [15 : 0] load_weight_w;
  input  EN_load_weight;
  output RDY_load_weight;

  // action method compute
  input  [15 : 0] compute_act_in;
  input  [15 : 0] compute_psum_in;
  input  EN_compute;
  output RDY_compute;

  // value method get_activation_out
  output [15 : 0] get_activation_out;
  output RDY_get_activation_out;

  // value method get_psum_out
  output [15 : 0] get_psum_out;
  output RDY_get_psum_out;

  // signals for module outputs
  wire [15 : 0] get_activation_out, get_psum_out;
  wire RDY_compute, RDY_get_activation_out, RDY_get_psum_out, RDY_load_weight;

  // register activation_out_reg
  reg [15 : 0] activation_out_reg;
  wire [15 : 0] activation_out_reg$D_IN;
  wire activation_out_reg$EN;

  // register psum_out_reg
  reg [15 : 0] psum_out_reg;
  wire [15 : 0] psum_out_reg$D_IN;
  wire psum_out_reg$EN;

  // register weight_reg
  reg [15 : 0] weight_reg;
  wire [15 : 0] weight_reg$D_IN;
  wire weight_reg$EN;

  // remaining internal signals
  wire [31 : 0] _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19;
  wire [15 : 0] IF_NOT_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_ETC__q1,
		IF_compute_psum_in_BITS_14_TO_7_20_EQ_0_21_AND_ETC___d339,
		_theResult___snd__h788;
  wire [14 : 0] IF_IF_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ__ETC___d213,
		IF_IF_weight_reg_BIT_15_25_XOR_compute_act_in__ETC___d337,
		IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight_reg_ETC___d214;
  wire [9 : 0] _theResult___fst__h1010,
	       _theResult___fst__h1047,
	       _theResult___fst__h1084,
	       _theResult___fst__h1121,
	       _theResult___fst__h1158,
	       _theResult___fst__h1195,
	       _theResult___fst__h787,
	       _theResult___fst__h825,
	       _theResult___fst__h862,
	       _theResult___fst__h899,
	       _theResult___fst__h936,
	       _theResult___fst__h973,
	       _theResult___snd__h750,
	       exp_temp__h635,
	       final_exp_10__h641,
	       final_exp_10__h714,
	       final_exp_10__h753,
	       raw_exp_10__h636,
	       shifted_exp___10__h897,
	       shifted_exp___11__h860,
	       shifted_exp___12__h823,
	       shifted_exp___13__h785,
	       shifted_exp___1__h1230,
	       shifted_exp___2__h1193,
	       shifted_exp___3__h1156,
	       shifted_exp___4__h1119,
	       shifted_exp___5__h1082,
	       shifted_exp___6__h1045,
	       shifted_exp___7__h1008,
	       shifted_exp___8__h971,
	       shifted_exp___9__h934;
  wire [8 : 0] IF_NOT_tmp428_BIT_7_AND_NOT_tmp428_EQ_0_THEN_t_ETC__q2,
	       _theResult_____1_fst__h1673,
	       _theResult_____2_snd__h1509,
	       a_exp_eff__h632,
	       b_exp_eff__h633,
	       exp_sum__h634,
	       man_result__h1480,
	       man_result__h1573,
	       man_result__h1575,
	       tmp__h1428;
  wire [7 : 0] _theResult_____1_snd__h1669,
	       _theResult_____1_snd__h1674,
	       _theResult_____1_snd__h1711,
	       _theResult_____1_snd__h1748,
	       _theResult_____1_snd__h1785,
	       _theResult_____1_snd__h1822,
	       _theResult_____1_snd__h1859,
	       _theResult_____1_snd__h1896,
	       _theResult___fst_exp__h1505,
	       a_full_mant__h629,
	       b_full_mant__h630,
	       bigger_m__h1421,
	       exp_diff__h1496,
	       exp_diff__h1500,
	       final_exp__h1633,
	       final_exp__h1638,
	       smaller_m__h1422,
	       smaller_m__h1498,
	       smaller_m__h1502;
  wire [6 : 0] IF_IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight__ETC___d233,
	       _theResult_____1_snd__h1243,
	       _theResult___fst__h749,
	       final_mant__h640;
  wire IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight_reg_ETC___d231,
       _0b1_CONCAT_IF_IF_weight_reg_BITS_14_TO_7_EQ_0__ETC___d242,
       _theResult_____2_fst__h1508,
       res_sign__h483,
       result_sign__h1432,
       result_sign__h1481,
       result_sign__h1576,
       weight_reg_BIT_15_25_XOR_compute_act_in_BIT_15_ETC___d230;

  // action method load_weight
  assign RDY_load_weight = 1'd1 ;

  // action method compute
  assign RDY_compute = 1'd1 ;

  // value method get_activation_out
  assign get_activation_out = activation_out_reg ;
  assign RDY_get_activation_out = 1'd1 ;

  // value method get_psum_out
  assign get_psum_out = psum_out_reg ;
  assign RDY_get_psum_out = 1'd1 ;

  // register activation_out_reg
  assign activation_out_reg$D_IN = compute_act_in ;
  assign activation_out_reg$EN = EN_compute ;

  // register psum_out_reg
  assign psum_out_reg$D_IN =
	     (IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight_reg_ETC___d214[14:7] ==
	      8'd0 &&
	      IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight_reg_ETC___d214[6:0] ==
	      7'd0) ?
	       compute_psum_in :
	       IF_compute_psum_in_BITS_14_TO_7_20_EQ_0_21_AND_ETC___d339 ;
  assign psum_out_reg$EN = EN_compute ;

  // register weight_reg
  assign weight_reg$D_IN = load_weight_w ;
  assign weight_reg$EN = EN_load_weight ;

  // remaining internal signals
  assign IF_IF_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ__ETC___d213 =
	     (final_exp_10__h641[9] || final_exp_10__h641 == 10'd0) ?
	       { 8'b0, _theResult_____1_snd__h1243 } :
	       ((final_exp_10__h641 < 10'd255) ?
		  { final_exp_10__h641[7:0], final_mant__h640 } :
		  15'd32640) ;
  assign IF_IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight__ETC___d233 =
	     IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight_reg_ETC___d231 ?
	       compute_psum_in[6:0] :
	       IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight_reg_ETC___d214[6:0] ;
  assign IF_IF_weight_reg_BIT_15_25_XOR_compute_act_in__ETC___d337 =
	     tmp__h1428[8] ?
	       { final_exp__h1633, tmp__h1428[7:1] } :
	       { final_exp__h1638,
		 IF_NOT_tmp428_BIT_7_AND_NOT_tmp428_EQ_0_THEN_t_ETC__q2[6:0] } ;
  assign IF_NOT_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_ETC__q1 =
	     (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[13] &&
	      _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[15:0] !=
	      16'd0) ?
	       _theResult___snd__h788 :
	       _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[15:0] ;
  assign IF_NOT_tmp428_BIT_7_AND_NOT_tmp428_EQ_0_THEN_t_ETC__q2 =
	     (!tmp__h1428[7] && tmp__h1428 != 9'd0) ?
	       _theResult_____1_fst__h1673 :
	       tmp__h1428 ;
  assign IF_compute_psum_in_BITS_14_TO_7_20_EQ_0_21_AND_ETC___d339 =
	     (compute_psum_in[14:7] == 8'd0 && compute_psum_in[6:0] == 7'd0) ?
	       { res_sign__h483,
		 IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight_reg_ETC___d214 } :
	       { result_sign__h1432,
		 IF_IF_weight_reg_BIT_15_25_XOR_compute_act_in__ETC___d337 } ;
  assign IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight_reg_ETC___d214 =
	     (weight_reg[14:7] == 8'd0 && weight_reg[6:0] == 7'd0 ||
	      compute_act_in[14:7] == 8'd0 && compute_act_in[6:0] == 7'd0) ?
	       15'b0 :
	       IF_IF_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ__ETC___d213 ;
  assign IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight_reg_ETC___d231 =
	     IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight_reg_ETC___d214[14:7] <
	     compute_psum_in[14:7] ;
  assign _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19 =
	     { 8'd0, a_full_mant__h629 } * { 8'd0, b_full_mant__h630 } ;
  assign _0b1_CONCAT_IF_IF_weight_reg_BITS_14_TO_7_EQ_0__ETC___d242 =
	     bigger_m__h1421 < smaller_m__h1422 ;
  assign _theResult_____1_fst__h1673 =
	     { (!tmp__h1428[6] && tmp__h1428[7:0] != 8'd0) ?
		 ((!tmp__h1428[5] && { tmp__h1428[6:0], 1'd0 } != 8'd0) ?
		    ((!tmp__h1428[4] && { tmp__h1428[5:0], 2'd0 } != 8'd0) ?
		       ((!tmp__h1428[3] &&
			 { tmp__h1428[4:0], 3'd0 } != 8'd0) ?
			  ((!tmp__h1428[2] &&
			    { tmp__h1428[3:0], 4'd0 } != 8'd0) ?
			     ((!tmp__h1428[1] &&
			       { tmp__h1428[2:0], 5'd0 } != 8'd0) ?
				((!tmp__h1428[0] &&
				  { tmp__h1428[1:0], 6'd0 } != 8'd0) ?
				   8'd0 :
				   { tmp__h1428[1:0], 6'd0 }) :
				{ tmp__h1428[2:0], 5'd0 }) :
			     { tmp__h1428[3:0], 4'd0 }) :
			  { tmp__h1428[4:0], 3'd0 }) :
		       { tmp__h1428[5:0], 2'd0 }) :
		    { tmp__h1428[6:0], 1'd0 }) :
		 tmp__h1428[7:0],
	       1'd0 } ;
  assign _theResult_____1_snd__h1243 =
	     (final_exp_10__h641 == 10'd0) ? final_mant__h640 : 7'b0 ;
  assign _theResult_____1_snd__h1669 =
	     (!tmp__h1428[7] && tmp__h1428 != 9'd0) ?
	       _theResult_____1_snd__h1674 :
	       8'd0 ;
  assign _theResult_____1_snd__h1674 =
	     (!tmp__h1428[6] && tmp__h1428[7:0] != 8'd0) ?
	       _theResult_____1_snd__h1711 :
	       8'd1 ;
  assign _theResult_____1_snd__h1711 =
	     (!tmp__h1428[5] && { tmp__h1428[6:0], 1'd0 } != 8'd0) ?
	       _theResult_____1_snd__h1748 :
	       8'd2 ;
  assign _theResult_____1_snd__h1748 =
	     (!tmp__h1428[4] && { tmp__h1428[5:0], 2'd0 } != 8'd0) ?
	       _theResult_____1_snd__h1785 :
	       8'd3 ;
  assign _theResult_____1_snd__h1785 =
	     (!tmp__h1428[3] && { tmp__h1428[4:0], 3'd0 } != 8'd0) ?
	       _theResult_____1_snd__h1822 :
	       8'd4 ;
  assign _theResult_____1_snd__h1822 =
	     (!tmp__h1428[2] && { tmp__h1428[3:0], 4'd0 } != 8'd0) ?
	       _theResult_____1_snd__h1859 :
	       8'd5 ;
  assign _theResult_____1_snd__h1859 =
	     (!tmp__h1428[1] && { tmp__h1428[2:0], 5'd0 } != 8'd0) ?
	       _theResult_____1_snd__h1896 :
	       8'd6 ;
  assign _theResult_____1_snd__h1896 =
	     (!tmp__h1428[0] && { tmp__h1428[1:0], 6'd0 } != 8'd0) ?
	       8'd8 :
	       8'd7 ;
  assign _theResult_____2_fst__h1508 =
	     _0b1_CONCAT_IF_IF_weight_reg_BITS_14_TO_7_EQ_0__ETC___d242 ?
	       result_sign__h1576 :
	       result_sign__h1481 ;
  assign _theResult_____2_snd__h1509 =
	     _0b1_CONCAT_IF_IF_weight_reg_BITS_14_TO_7_EQ_0__ETC___d242 ?
	       man_result__h1575 :
	       man_result__h1573 ;
  assign _theResult___fst__h1010 =
	     (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[6] &&
	      { _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[8:0],
		6'd0 } !=
	      15'd0) ?
	       _theResult___fst__h1047 :
	       shifted_exp___7__h1008 ;
  assign _theResult___fst__h1047 =
	     (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[5] &&
	      { _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[7:0],
		7'd0 } !=
	      15'd0) ?
	       _theResult___fst__h1084 :
	       shifted_exp___6__h1045 ;
  assign _theResult___fst__h1084 =
	     (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[4] &&
	      { _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[6:0],
		8'd0 } !=
	      15'd0) ?
	       _theResult___fst__h1121 :
	       shifted_exp___5__h1082 ;
  assign _theResult___fst__h1121 =
	     (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[3] &&
	      { _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[5:0],
		9'd0 } !=
	      15'd0) ?
	       _theResult___fst__h1158 :
	       shifted_exp___4__h1119 ;
  assign _theResult___fst__h1158 =
	     (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[2] &&
	      { _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[4:0],
		10'd0 } !=
	      15'd0) ?
	       _theResult___fst__h1195 :
	       shifted_exp___3__h1156 ;
  assign _theResult___fst__h1195 =
	     (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[1] &&
	      { _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[3:0],
		11'd0 } !=
	      15'd0) ?
	       shifted_exp___1__h1230 :
	       shifted_exp___2__h1193 ;
  assign _theResult___fst__h749 =
	     _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[14] ?
	       _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[13:7] :
	       IF_NOT_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_ETC__q1[13:7] ;
  assign _theResult___fst__h787 =
	     (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[12] &&
	      _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[14:0] !=
	      15'd0) ?
	       _theResult___fst__h825 :
	       shifted_exp___13__h785 ;
  assign _theResult___fst__h825 =
	     (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[11] &&
	      { _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[13:0],
		1'd0 } !=
	      15'd0) ?
	       _theResult___fst__h862 :
	       shifted_exp___12__h823 ;
  assign _theResult___fst__h862 =
	     (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[10] &&
	      { _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[12:0],
		2'd0 } !=
	      15'd0) ?
	       _theResult___fst__h899 :
	       shifted_exp___11__h860 ;
  assign _theResult___fst__h899 =
	     (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[9] &&
	      { _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[11:0],
		3'd0 } !=
	      15'd0) ?
	       _theResult___fst__h936 :
	       shifted_exp___10__h897 ;
  assign _theResult___fst__h936 =
	     (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[8] &&
	      { _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[10:0],
		4'd0 } !=
	      15'd0) ?
	       _theResult___fst__h973 :
	       shifted_exp___9__h934 ;
  assign _theResult___fst__h973 =
	     (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[7] &&
	      { _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[9:0],
		5'd0 } !=
	      15'd0) ?
	       _theResult___fst__h1010 :
	       shifted_exp___8__h971 ;
  assign _theResult___fst_exp__h1505 =
	     IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight_reg_ETC___d231 ?
	       compute_psum_in[14:7] :
	       IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight_reg_ETC___d214[14:7] ;
  assign _theResult___snd__h750 =
	     _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[14] ?
	       raw_exp_10__h636 :
	       final_exp_10__h753 ;
  assign _theResult___snd__h788 =
	     { (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[12] &&
		_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[14:0] !=
		15'd0) ?
		 { (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[11] &&
		    { _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[13:0],
		      1'd0 } !=
		    15'd0) ?
		     { (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[10] &&
			{ _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[12:0],
			  2'd0 } !=
			15'd0) ?
			 { (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[9] &&
			    { _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[11:0],
			      3'd0 } !=
			    15'd0) ?
			     { (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[8] &&
				{ _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[10:0],
				  4'd0 } !=
				15'd0) ?
				 { (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[7] &&
				    { _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[9:0],
				      5'd0 } !=
				    15'd0) ?
				     { (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[6] &&
					{ _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[8:0],
					  6'd0 } !=
					15'd0) ?
					 { (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[5] &&
					    { _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[7:0],
					      7'd0 } !=
					    15'd0) ?
					     { (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[4] &&
						{ _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[6:0],
						  8'd0 } !=
						15'd0) ?
						 { (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[3] &&
						    { _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[5:0],
						      9'd0 } !=
						    15'd0) ?
						     { (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[2] &&
							{ _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[4:0],
							  10'd0 } !=
							15'd0) ?
							 { (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[1] &&
							    { _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[3:0],
							      11'd0 } !=
							    15'd0) ?
							     { _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[2:0],
							       1'd0 } :
							     _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[3:0],
							   1'd0 } :
							 _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[4:0],
						       1'd0 } :
						     _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[5:0],
						   1'd0 } :
						 _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[6:0],
					       1'd0 } :
					     _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[7:0],
					   1'd0 } :
					 _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[8:0],
				       1'd0 } :
				     _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[9:0],
				   1'd0 } :
				 _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[10:0],
			       1'd0 } :
			     _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[11:0],
			   1'd0 } :
			 _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[12:0],
		       1'd0 } :
		     _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[13:0],
		   1'd0 } :
		 _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[14:0],
	       1'd0 } ;
  assign a_exp_eff__h632 =
	     (weight_reg[14:7] == 8'd0) ? 9'd1 : { 1'd0, weight_reg[14:7] } ;
  assign a_full_mant__h629 = { weight_reg[14:7] != 8'd0, weight_reg[6:0] } ;
  assign b_exp_eff__h633 =
	     (compute_act_in[14:7] == 8'd0) ?
	       9'd1 :
	       { 1'd0, compute_act_in[14:7] } ;
  assign b_full_mant__h630 =
	     { compute_act_in[14:7] != 8'd0, compute_act_in[6:0] } ;
  assign bigger_m__h1421 =
	     { 1'b1,
	       IF_IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight__ETC___d233 } ;
  assign exp_diff__h1496 =
	     IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight_reg_ETC___d214[14:7] -
	     compute_psum_in[14:7] ;
  assign exp_diff__h1500 =
	     compute_psum_in[14:7] -
	     IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight_reg_ETC___d214[14:7] ;
  assign exp_sum__h634 = a_exp_eff__h632 + b_exp_eff__h633 ;
  assign exp_temp__h635 = { 1'd0, exp_sum__h634 } ;
  assign final_exp_10__h641 =
	     _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[15] ?
	       final_exp_10__h714 :
	       _theResult___snd__h750 ;
  assign final_exp_10__h714 = raw_exp_10__h636 + 10'd1 ;
  assign final_exp_10__h753 =
	     (!_0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[13] &&
	      _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[15:0] !=
	      16'd0) ?
	       _theResult___fst__h787 :
	       raw_exp_10__h636 ;
  assign final_exp__h1633 = _theResult___fst_exp__h1505 + 8'd1 ;
  assign final_exp__h1638 =
	     _theResult___fst_exp__h1505 - _theResult_____1_snd__h1669 ;
  assign final_mant__h640 =
	     _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[15] ?
	       _0_CONCAT_NOT_weight_reg_BITS_14_TO_7_EQ_0_3_CO_ETC___d19[14:8] :
	       _theResult___fst__h749 ;
  assign man_result__h1480 =
	     { 2'd1,
	       IF_IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight__ETC___d233 } +
	     { 1'd0, smaller_m__h1422 } ;
  assign man_result__h1573 =
	     { 2'd1,
	       IF_IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight__ETC___d233 } -
	     { 1'd0, smaller_m__h1422 } ;
  assign man_result__h1575 =
	     { 1'd0, smaller_m__h1422 } -
	     { 2'd1,
	       IF_IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight__ETC___d233 } ;
  assign raw_exp_10__h636 = exp_temp__h635 - 10'd127 ;
  assign res_sign__h483 = weight_reg[15] ^ compute_act_in[15] ;
  assign result_sign__h1432 =
	     weight_reg_BIT_15_25_XOR_compute_act_in_BIT_15_ETC___d230 ?
	       result_sign__h1481 :
	       _theResult_____2_fst__h1508 ;
  assign result_sign__h1481 =
	     IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight_reg_ETC___d231 ?
	       compute_psum_in[15] :
	       res_sign__h483 ;
  assign result_sign__h1576 =
	     IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight_reg_ETC___d231 ?
	       res_sign__h483 :
	       compute_psum_in[15] ;
  assign shifted_exp___10__h897 = shifted_exp___11__h860 - 10'd1 ;
  assign shifted_exp___11__h860 = shifted_exp___12__h823 - 10'd1 ;
  assign shifted_exp___12__h823 = shifted_exp___13__h785 - 10'd1 ;
  assign shifted_exp___13__h785 = raw_exp_10__h636 - 10'd1 ;
  assign shifted_exp___1__h1230 = shifted_exp___2__h1193 - 10'd1 ;
  assign shifted_exp___2__h1193 = shifted_exp___3__h1156 - 10'd1 ;
  assign shifted_exp___3__h1156 = shifted_exp___4__h1119 - 10'd1 ;
  assign shifted_exp___4__h1119 = shifted_exp___5__h1082 - 10'd1 ;
  assign shifted_exp___5__h1082 = shifted_exp___6__h1045 - 10'd1 ;
  assign shifted_exp___6__h1045 = shifted_exp___7__h1008 - 10'd1 ;
  assign shifted_exp___7__h1008 = shifted_exp___8__h971 - 10'd1 ;
  assign shifted_exp___8__h971 = shifted_exp___9__h934 - 10'd1 ;
  assign shifted_exp___9__h934 = shifted_exp___10__h897 - 10'd1 ;
  assign smaller_m__h1422 =
	     IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight_reg_ETC___d231 ?
	       smaller_m__h1502 :
	       smaller_m__h1498 ;
  assign smaller_m__h1498 =
	     { 1'b1, compute_psum_in[6:0] } >> exp_diff__h1496 ;
  assign smaller_m__h1502 =
	     { 1'b1,
	       IF_weight_reg_BITS_14_TO_7_EQ_0_AND_weight_reg_ETC___d214[6:0] } >>
	     exp_diff__h1500 ;
  assign tmp__h1428 =
	     weight_reg_BIT_15_25_XOR_compute_act_in_BIT_15_ETC___d230 ?
	       man_result__h1480 :
	       _theResult_____2_snd__h1509 ;
  assign weight_reg_BIT_15_25_XOR_compute_act_in_BIT_15_ETC___d230 =
	     res_sign__h483 == compute_psum_in[15] ;

  // handling of inlined registers

  always@(posedge CLK)
  begin
    if (RST_N == `BSV_RESET_VALUE)
      begin
        activation_out_reg <= `BSV_ASSIGNMENT_DELAY 16'd0;
	psum_out_reg <= `BSV_ASSIGNMENT_DELAY 16'd0;
	weight_reg <= `BSV_ASSIGNMENT_DELAY 16'd0;
      end
    else
      begin
        if (activation_out_reg$EN)
	  activation_out_reg <= `BSV_ASSIGNMENT_DELAY activation_out_reg$D_IN;
	if (psum_out_reg$EN)
	  psum_out_reg <= `BSV_ASSIGNMENT_DELAY psum_out_reg$D_IN;
	if (weight_reg$EN)
	  weight_reg <= `BSV_ASSIGNMENT_DELAY weight_reg$D_IN;
      end
  end

  // synopsys translate_off
  `ifdef BSV_NO_INITIAL_BLOCKS
  `else // not BSV_NO_INITIAL_BLOCKS
  initial
  begin
    activation_out_reg = 16'hAAAA;
    psum_out_reg = 16'hAAAA;
    weight_reg = 16'hAAAA;
  end
  `endif // BSV_NO_INITIAL_BLOCKS
  // synopsys translate_on
endmodule  // mkBF16_PE

